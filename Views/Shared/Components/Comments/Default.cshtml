@model IEnumerable<NEWS_App.Models.Comment>

<div class="comments-section border rounded p-3 mb-4" style="max-height: 500px; overflow-y: auto;">
    <h3>Comments</h3>
    
    @if (!Model.Any())
    {
        <p>No comments yet. Be the first to comment!</p>
    }
    else
    {
        <div class="d-flex justify-content-between align-items-center mb-3">
            <span>Sort by:</span>
           <select id="sortComments" class="form-select w-auto" onchange="updateComments('@ViewContext.RouteData.Values["id"]')">
            <option value="newest"  selected>Newest First</option>
            <option value="oldest" >Oldest First</option>
        </select>
        </div>
        <hr />
        <div class="comments-list-container">
            <ul class="list-unstyled">
                @foreach (var comment in Model)
                {
                    <li class="media mb-4">
                        <div class="media-body">
                            <h5 class="mt-0 mb-1">@comment.Content</h5>
                            <small class="text-muted">Posted on @comment.CreatedDate.ToString("MM/dd/yyyy hh:mm tt")</small>
                        </div>
                    </li>
                }
            </ul>
        </div>
    }
</div>


<style>
    .comments-section {
        border: 1px solid #ddd; /* Light gray border */
        border-radius: 0.5rem; /* Rounded corners */
        background-color: #f9f9f9; /* Light background */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Subtle shadow */
    }

    .comments-list-container {
        max-height: 300px; /* Adjust height to fit about 5 comments */
        overflow-y: auto; /* Enable vertical scrolling */
        padding-right: 15px; /* Add some space for the scrollbar */
        border-top: 1px solid #ddd; /* Border above comments */
        margin-top: 15px; /* Space above the comments list */
    }

    .media {
        border-bottom: 1px solid #eee; /* Light border between comments */
        padding-bottom: 10px; /* Space below each comment */
    }

        .media:last-child {
            border-bottom: none; /* Remove border from the last comment */
        }
</style>
